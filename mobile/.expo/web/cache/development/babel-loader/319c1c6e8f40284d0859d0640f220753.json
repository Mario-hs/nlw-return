{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { Fragment, useRef, useState } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { ChatTeardropDots } from \"phosphor-react-native\";\nimport BottomSheet from \"@gorhom/bottom-sheet\";\nimport { gestureHandlerRootHOC } from \"react-native-gesture-handler\";\nimport { Form } from \"../Form\";\nimport { Options } from \"../Options\";\nimport { Success } from \"../Success\";\nimport { styles } from \"./styles\";\nimport { theme } from \"../../theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Widget() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      feedbackType = _useState2[0],\n      setFeedbackType = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      feedbackSent = _useState4[0],\n      setFeedbackSend = _useState4[1];\n\n  var bottomSheetRef = useRef(null);\n\n  function handleOpen() {\n    var _bottomSheetRef$curre;\n\n    (_bottomSheetRef$curre = bottomSheetRef.current) == null ? void 0 : _bottomSheetRef$curre.expand();\n  }\n\n  function handleRestartFeedback() {\n    setFeedbackType(null);\n    setFeedbackSend(false);\n  }\n\n  function handleFeedbackSend() {\n    setFeedbackSend(true);\n  }\n\n  return _jsxs(Fragment, {\n    children: [_jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: handleOpen,\n      children: _jsx(ChatTeardropDots, {\n        size: 24,\n        weight: \"bold\",\n        color: theme.colors.text_on_brand_color\n      })\n    }), _jsx(BottomSheet, {\n      ref: bottomSheetRef,\n      snapPoints: [1, 280],\n      backgroundStyle: styles.modal,\n      handleIndicatorStyle: styles.indicator,\n      children: feedbackSent ? _jsx(Success, {\n        onSendAnotherFeedbacks: handleRestartFeedback\n      }) : _jsx(_Fragment, {\n        children: feedbackType ? _jsx(Form, {\n          feedbackType: feedbackType,\n          onFeedbackCanceled: handleRestartFeedback,\n          onFeedbackSend: handleFeedbackSend\n        }) : _jsx(Options, {\n          onFeedbackTypeChanged: setFeedbackType\n        })\n      })\n    })]\n  });\n}\n\nexport default gestureHandlerRootHOC(Widget);","map":{"version":3,"names":["React","Fragment","useRef","useState","ChatTeardropDots","BottomSheet","gestureHandlerRootHOC","Form","Options","Success","styles","theme","Widget","feedbackType","setFeedbackType","feedbackSent","setFeedbackSend","bottomSheetRef","handleOpen","current","expand","handleRestartFeedback","handleFeedbackSend","button","colors","text_on_brand_color","modal","indicator"],"sources":["/Users/mario_hs/Desktop/Mario/Estudos/nlw/web/mobile/src/components/Widget/index.tsx"],"sourcesContent":["import React, { Fragment, useRef, useState } from \"react\";\nimport { TouchableOpacity } from \"react-native\";\nimport { ChatTeardropDots } from \"phosphor-react-native\";\nimport BottomSheet from \"@gorhom/bottom-sheet\";\nimport { gestureHandlerRootHOC } from \"react-native-gesture-handler\";\n\nimport { Form } from \"../Form\";\nimport { Options } from \"../Options\";\nimport { Success } from \"../Success\";\n\nimport { styles } from \"./styles\";\nimport { theme } from \"../../theme\";\nimport { feedbackTypes } from \"../../utils/feedbackTypes\"\n\nexport type FeedbackType = keyof typeof feedbackTypes\n\nfunction Widget() {\n    const [feedbackType, setFeedbackType] = useState<FeedbackType | null>(null);\n    const [feedbackSent, setFeedbackSend] = useState(false);\n\n    const bottomSheetRef = useRef<BottomSheet>(null);\n\n    function handleOpen() {\n        bottomSheetRef.current?.expand();\n    }\n\n    function handleRestartFeedback() {\n        setFeedbackType(null);\n        setFeedbackSend(false);\n    }\n\n    function handleFeedbackSend() {\n        setFeedbackSend(true);\n    }\n\n    return (\n        <Fragment >\n            <TouchableOpacity style={styles.button} onPress={handleOpen}>\n                <ChatTeardropDots\n                    size={24}\n                    weight=\"bold\"\n                    color={theme.colors.text_on_brand_color}\n                />\n\n            </TouchableOpacity>\n            <BottomSheet\n                ref={bottomSheetRef}\n                snapPoints={[1, 280]}\n                backgroundStyle={styles.modal}\n                handleIndicatorStyle={styles.indicator}\n            >\n                {\n                    feedbackSent ? (\n                        <Success onSendAnotherFeedbacks={handleRestartFeedback} />\n                    ) : (\n                        <>\n                            {\n                                feedbackType ? (\n                                    <Form\n                                        feedbackType={feedbackType}\n                                        onFeedbackCanceled={handleRestartFeedback}\n                                        onFeedbackSend={handleFeedbackSend}\n                                    />\n                                ) : (\n                                    <Options onFeedbackTypeChanged={setFeedbackType} />\n                                )\n                            }\n                        </>\n                    )}\n            </BottomSheet>\n        </Fragment>\n    )\n}\n\nexport default gestureHandlerRootHOC(Widget);"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAkD,OAAlD;;AAEA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,qBAAT,QAAsC,8BAAtC;AAEA,SAASC,IAAT;AACA,SAASC,OAAT;AACA,SAASC,OAAT;AAEA,SAASC,MAAT;AACA,SAASC,KAAT;;;;;AAKA,SAASC,MAAT,GAAkB;EACd,gBAAwCT,QAAQ,CAAsB,IAAtB,CAAhD;EAAA;EAAA,IAAOU,YAAP;EAAA,IAAqBC,eAArB;;EACA,iBAAwCX,QAAQ,CAAC,KAAD,CAAhD;EAAA;EAAA,IAAOY,YAAP;EAAA,IAAqBC,eAArB;;EAEA,IAAMC,cAAc,GAAGf,MAAM,CAAc,IAAd,CAA7B;;EAEA,SAASgB,UAAT,GAAsB;IAAA;;IAClB,yBAAAD,cAAc,CAACE,OAAf,2CAAwBC,MAAxB;EACH;;EAED,SAASC,qBAAT,GAAiC;IAC7BP,eAAe,CAAC,IAAD,CAAf;IACAE,eAAe,CAAC,KAAD,CAAf;EACH;;EAED,SAASM,kBAAT,GAA8B;IAC1BN,eAAe,CAAC,IAAD,CAAf;EACH;;EAED,OACI,MAAC,QAAD;IAAA,WACI,KAAC,gBAAD;MAAkB,KAAK,EAAEN,MAAM,CAACa,MAAhC;MAAwC,OAAO,EAAEL,UAAjD;MAAA,UACI,KAAC,gBAAD;QACI,IAAI,EAAE,EADV;QAEI,MAAM,EAAC,MAFX;QAGI,KAAK,EAAEP,KAAK,CAACa,MAAN,CAAaC;MAHxB;IADJ,EADJ,EASI,KAAC,WAAD;MACI,GAAG,EAAER,cADT;MAEI,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CAFhB;MAGI,eAAe,EAAEP,MAAM,CAACgB,KAH5B;MAII,oBAAoB,EAAEhB,MAAM,CAACiB,SAJjC;MAAA,UAOQZ,YAAY,GACR,KAAC,OAAD;QAAS,sBAAsB,EAAEM;MAAjC,EADQ,GAGR;QAAA,UAEQR,YAAY,GACR,KAAC,IAAD;UACI,YAAY,EAAEA,YADlB;UAEI,kBAAkB,EAAEQ,qBAFxB;UAGI,cAAc,EAAEC;QAHpB,EADQ,GAOR,KAAC,OAAD;UAAS,qBAAqB,EAAER;QAAhC;MATZ;IAVZ,EATJ;EAAA,EADJ;AAqCH;;AAED,eAAeR,qBAAqB,CAACM,MAAD,CAApC"},"metadata":{},"sourceType":"module"}